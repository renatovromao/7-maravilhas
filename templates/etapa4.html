{% extends "base.html" %}

{% block title %}Etapa 4 — Transformação{% endblock %}

{% block content %}
<div class="row w-100 justify-content-center text-center">
    <div class="col-11 col-md-8 col-lg-6 p-2 bg-white rounded-3 shadow-sm">

        <h2 class="mb-2 fade-item">
            Capítulo 4: Transformação
        </h2>

        <p class="lead mb-2 fade-item">
            Algumas relações são testadas por mudanças.
        </p>

        <p class="mb-4 fade-item">
            Clique nos passos e construa o caminho.
        </p>

        <!-- Caminho -->
        <div class="path-container fade-item">

            <div class="path-node" data-step="1">Escuta</div>
            <div class="path-line"></div>

            <div class="path-node" data-step="2">Empatia</div>
            <div class="path-line"></div>

            <div class="path-node" data-step="3">Diálogo</div>
            <div class="path-line"></div>

            <div class="path-node" data-step="4">Ajuste</div>
            <div class="path-line"></div>

            <div class="path-node" data-step="5">Compromisso</div>

        </div>

        <!-- Frase final -->
        <div id="finalText" class="mt-2 fw-semibold d-none">
            Amor maduro não evita mudanças.<br>
            Ele caminha com elas.
        </div>

        <!-- Overlay duplo de sucesso -->
        <div id="successOverlay" class="success-overlay d-none">
            <div class="dual-overlay">
                <img src="{{ url_for('static', filename='img/transformacao1.gif') }}" alt="Caminho 1">
                <img src="{{ url_for('static', filename='img/transformacao2.gif') }}" alt="Caminho 2">
            </div>
        </div>

        <!-- Continuar -->
        <form method="post" action="{{ url_for('etapa4_complete') }}">
            <button id="continueBtn" class="btn btn-success btn-lg mt-2 w-100 d-none">
                Continuar
            </button>
        </form>

    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/etapa4.js') }}"></script>
{% endblock %}
